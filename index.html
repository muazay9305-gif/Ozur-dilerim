<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Affet Beni Oyunu üò≠</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #ff9a9e, #fad0c4);
  text-align: center;
  margin: 0;
  padding: 20px;
  overflow: hidden;
}
h1 { color: #8b0033; }
#face {
  width: 180px;
  height: 180px;
  border-radius: 50%;
  object-fit: cover;
  cursor: pointer;
  display: none;
  position: absolute;
}
.heart {
  position: absolute;
  font-size: 24px;
  animation: pop 1s forwards;
}
@keyframes pop {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(2); opacity: 0; }
}
#ui {
  position: fixed;
  bottom: 10px;
  left: 0;
  right: 0;
}
#message { font-size: 20px; min-height: 30px; }
#score, #timer { font-size: 18px; }
#end {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.8);
  color: white;
  font-size: 28px;
  padding-top: 30vh;
}
</style>
</head>

<body>

<h1>Vur Ama Affet ‚ù§Ô∏è</h1>
<input type="file" accept="image/*" id="upload">

<img id="face">

<div id="ui">
  <div id="message"></div>
  <div id="score">Vuru≈ü: 0</div>
  <div id="timer">S√ºre: 30</div>
</div>

<div id="end">
  üòµ‚Äçüí´ TAMAM KAZANDIN<br><br>
  √ñZ√úR Dƒ∞LERƒ∞M ‚ù§Ô∏è<br>
  SEN HEP HAKLISIN
</div>

<audio id="sound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>

<script>
const upload = document.getElementById("upload");
const face = document.getElementById("face");
const message = document.getElementById("message");
const scoreEl = document.getElementById("score");
const timerEl = document.getElementById("timer");
const endScreen = document.getElementById("end");
const sound = document.getElementById("sound");

let score = 0;
let time = 30;
let gameActive = false;

const messages = [
  "TAMAM HAKLISIN üò≠",
  "Bƒ∞R DAHA ASLA (yeminle) üôÉ",
  "ANNEM DE KIZDI AMA BU SEVƒ∞YE DEƒûƒ∞L üòÖ",
  "L√úTFEN DUR ü•≤",
  "SEVGƒ∞Lƒ∞M HAKLI BEN HAKSIZIM ü§°",
  "√ñZ√úR Dƒ∞LERƒ∞M A≈ûKIM ‚ù§Ô∏è",
  "KALBƒ∞M Gƒ∞TTƒ∞ üí•",
  "SEN M√úKEMMELSƒ∞N üòç"
];

upload.addEventListener("change", () => {
  const file = upload.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = () => {
    face.src = reader.result;
    face.style.display = "block";
    moveFace();
    startTimer();
    gameActive = true;
  };
  reader.readAsDataURL(file);
});

function moveFace() {
  face.style.left = Math.random() * (window.innerWidth - 180) + "px";
  face.style.top = Math.random() * (window.innerHeight - 250) + "px";
}

face.addEventListener("click", () => {
  if (!gameActive) return;

  score++;
  scoreEl.textContent = "Vuru≈ü: " + score;
  message.textContent = messages[Math.floor(Math.random() * messages.length)];
  sound.currentTime = 0;
  sound.play();

  const heart = document.createElement("div");
  heart.className = "heart";
  heart.textContent = "‚ù§Ô∏è";
  heart.style.left = face.style.left;
  heart.style.top = face.style.top;
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 1000);

  moveFace();
});

function startTimer() {
  const interval = setInterval(() => {
    time--;
    timerEl.textContent = "S√ºre: " + time;
    if (time <= 0) {
      clearInterval(interval);
      gameActive = false;
      face.style.display = "none";
      endScreen.style.display = "block";
    }
  }, 1000);
}
</script>

</body>
</html>
